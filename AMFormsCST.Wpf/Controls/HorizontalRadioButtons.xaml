<UserControl x:Class="AMFormsCST.Desktop.Controls.HorizontalRadioButtons"  
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"  
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"  
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"   
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"   
             xmlns:local="clr-namespace:AMFormsCST.Desktop.Controls"  
             xmlns:converters="clr-namespace:AMFormsCST.Desktop.Converters"  
             mc:Ignorable="d"   
             d:DesignHeight="50" d:DesignWidth="300"  
             x:Name="RadioButtonControl">  
    
    <UserControl.Resources>
        <converters:RadioButtonCommandParameterConverter x:Key="CommandParameterConverter" />
        <converters:ContentFallbackConverter x:Key="FallbackConverter" />
        <Style TargetType="RadioButton" BasedOn="{StaticResource {x:Type ToggleButton}}"/>  
    </UserControl.Resources>  
    
    <Grid HorizontalAlignment="Stretch" Margin="0,0,25,0">  
        <ScrollViewer VerticalScrollBarVisibility="Disabled" HorizontalScrollBarVisibility="Visible" Height="50">  
            <ItemsControl ItemsSource="{Binding ItemsSource, ElementName=RadioButtonControl}" x:Name="DealerButtons">  
                <ItemsControl.ItemTemplate>  
                    <DataTemplate>
                        <RadioButton IsChecked="{Binding IsSelected, Mode=OneWay}"  
                                     Command="{Binding RadioButtonCommand, ElementName=ThisUserControl}"
                                     Margin="0,0,5,0"  
                                     MinWidth="150"  
                                     GroupName="CompanyNames">
                            
                            <RadioButton.CommandParameter>
                                <MultiBinding Converter="{StaticResource CommandParameterConverter}">
                                    <Binding Path="." />
                                    <Binding Path="CommandParameterPath" ElementName="RadioButtonControl" />
                                </MultiBinding>
                            </RadioButton.CommandParameter>
                            <RadioButton.Content>
                                <MultiBinding Converter="{StaticResource FallbackConverter}">
                                    <Binding Path="." />
                                    <Binding Path="ContentBindingPath" ElementName="RadioButtonControl" />
                                    <Binding Path="ContentFallbackValue" ElementName="RadioButtonControl" />
                                </MultiBinding>
                            </RadioButton.Content>
                        </RadioButton>  
                    </DataTemplate>  
                </ItemsControl.ItemTemplate>  
                <ItemsControl.ItemsPanel>  
                    <ItemsPanelTemplate>  
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left"/>  
                    </ItemsPanelTemplate>  
                </ItemsControl.ItemsPanel>  
                <ItemsControl.Resources>  
                    <Style TargetType="RadioButton" BasedOn="{StaticResource {x:Type ToggleButton}}"/>  
                </ItemsControl.Resources>  
            </ItemsControl>  
        </ScrollViewer>  
    </Grid>  
</UserControl>
